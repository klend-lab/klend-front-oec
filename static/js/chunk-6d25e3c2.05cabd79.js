(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d25e3c2"],{"20ec3":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAFD0lEQVRIS71Wa2wUVRQ+Z2a7lNYYYpBQRR5CArGBUKvQzm6NYCHdvROQqIgJiI9G1Bhf/CAYAYnEqAk/DNH4KhJFUSQiZGYfkWQldncLLgQ1EkJQERKQEIEflha2935mdmbb2WW3xT/Or8k9j++c75xzz2X6nz++HrxU6o/ay5fPthNhARFNJEKDa8dniegUs9o3Zoy+zzCMvpH8DQuYTKbHSUmvKkVPEqFueGfcx8xbiQKbhJjzVzXdqoCxWPYZpeTbRHTDSFH75czUC+hrTbN1SyW7awBzuVzNuXNX3gPQWTRg5jxAe5j1vQBy9fW1DpXU29vfQMTNRHIxMy0GUOOz2TZ58phVjY2NV0sCKo/CsjJdROqJoXPeRaTWmGbb78Nlalk/3E6kvUWEB4dAtU+FMFZWBbTt7MuA3OwpSGZttRDGO36DRCIzTSnMVgpK1/XDkUjrSb/ctjMvAMrxoTvnmqaviUZbndK4bVb8icV6JigljxNhdEHA2ot+sFis50ZAbgXwgI82EPFuQHaaZtvF4rltZ58HZCFQZuoPBjF9wYK2UyWAtp3+BMBjHthOIYyHiw4AsG1nviPCfZVp5YNCGAYzyyHQ9JcACj6YebsQoRWDgE70SsnzRAgy0xUini5E6M+h7LsjSlHMC+aDYFC+kc/XKECuBfCsqxdYYZot232Ak4hwDKBap+nq6urGzZvXdKlAaTyeXiYldngs7zLN0EP+TCwr/SYR1jDzhWjUuJmZlSMHoNt25ioRNGbtXSGM58rq+RWglrq1pOXRaPjzAqBtZ94H1Cq/oBTQ7VxmPiJEqKkoi8e7F0lJezzaNgoReq0U8MAjQP4Lj5kuIYxODzBtARCeYZMQoSN+Q4fyYJBGDwyofEeHcSGVQqCvL7sOUK8AFHDKoOvU3NER/rUsw5mA+tlrnoQQ4UgB0LLSh4hwp/NfWxsY397ecq5yc7inlpXeQYRlns4/RLTSNMPflNukUrmxvb39571S/WSaodnFDPcDuMellKdFo6HfqgF643HJ6VxmOk7EC/0NVpphehKAwpwyc0aIUKiY4WDEmqbdG40a+6sBJpMHb8vnrxZmikjrNE2jq3pw2ZBSstvLsNCMXobZDYD0Cq69bprG+mEynKDUwGlXjqWm2fZ1NV3LyqwnUhvdDPVNQrSuKwDGYpkmpdRhL5JjQhh3MDMqOXIoJVKrXfrVzvJGKdp4l8UvRGj0muZuIcK5wavNttMnAEx1hYFHhWj5rHqW6flE2tRIpKWrOJPlurbtHwk+KURoSsF3UdGyepYTDRRAmOlsTQ3dtXBh+Ey5I3d99V8EqJ6I5ptmOHUt2MHxQD5HhFs9Oh8XonVbCaBLQfpHImr2HByqr69vd66jcoeWldnCjFm6zkucufTLvWvSuXfneN15JBo1motMlCxgd6fxASIa62V6nDmwJBptOVqNXv95MpmZkc9jNxFmeGAXdJ3ndnQYJ4p612z8RKK7TUqKe5Q58+Ns+481jTZXm89k8sAUKQdeUopWOQvAa77Luq5EJNL2vT+oim+aeLxnlpQD3xJRodCD0TEdJdJyAJwnhmSmW5wSAJhZqsfOprm//IosqWE5ZYlE5iYpsQGgp4eiHp5Yhw0i/nDUKH1De/vcvytpj/gujcezk5XCUwAWFWeq3BG7me8F5EcjvX1GBPQ7TyRyDVLmJzKjgVmyUoEzNTXydKXxqcbFfwK8nk4dSedfqWtbO5s7ocgAAAAASUVORK5CYII="},"25f0":function(t,a,e){"use strict";var s=e("6eeb"),i=e("825a"),r=e("d039"),n=e("ad6d"),o="toString",l=RegExp.prototype,c=l[o],u=r((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),h=c.name!=o;(u||h)&&s(RegExp.prototype,o,(function(){var t=i(this),a=String(t.source),e=t.flags,s=String(void 0===e&&t instanceof RegExp&&!("flags"in l)?n.call(t):e);return"/"+a+"/"+s}),{unsafe:!0})},"323e":function(t,a,e){t.exports=e.p+"static/img/Icon03.60bbe23f.svg"},"5b1c":function(t,a,e){t.exports=e.p+"static/img/logo.7ce97766.svg"},"5dfc":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAsCAYAAAAacYo8AAAEC0lEQVRoQ82ZS4wVVRCGv198BEVEfAE+8RGiEaIrY+KGmBjXLEHduFMjaly5dq/uXcmOtRsXJq5dKaAENCgoLxmYODMo46Bl/pvuoaen+/Y59x5lKpnM4tap83V1dVWdOqKwRMQ6oP4L4B/gqiT/Lyaa1lJE3AZsBDYA64GbOmz6AZaAP4B5YE7SlWn2ngi88uq9wF3ALRMCXAYuAjOS/GBZkgUeETcAWwBDOxxKiN/EWUkXcowlg0eEw+Fh4OacDTJ0/QZ+Tg2hJPCI2FZ5Okk/A7at6g/4lCSH0FgZCxIR/v0RYPOQocK/n5F0dpzNIfDHgE2FoVLNOe7P9Cn3gkeE4/nu1F3+Iz2HTedH2wkeEQY2+PUWp8ljkvzhrpBV4BHhvPwU4NS3FmQR+L5debvAn6gq4VqArhnOSTrdBFoBXuVqg681cZo8IsnFaiRt8B1VzzEEfiPwAfAA8BFwdGhB6/fXgd3AAeCLxLW/SfplFXhEuEFybKfIC8DHleIC8JY9krIQeA/YW+leAl5KXPc3cKiO9WWPR4S9d1+iEfcrB4FbM+HfBfY19vgKeD9xT6v9JMkPey1UIuLpzE7vWeCTDPh3gFcakN8Ab1etbir7rKQTy+AR4cZpZ+rqhl4qfAlob+sDybdN8DuBRycA95Ih+P3Aq1N6uonm7LI4ivGI2Aq4A5xU+uBfLAxtvh8kzdXgDwH3TEpdrWvDO+c2j3GTxHQX0klJMzX49kKtaxu+3rgUtO39Kul8DV6yff0QeLnlqjeAr6d8o/XyUa9e2uPtD7HeLLdIjXvGFR4vEeNtaLcBbo1zi9TQi1kR466YrpyTSl/Kc++TU6RS9j8uab4OlTuAx1NWdegM5emhPJ+7rfuVpRrc3d6udreYYHEIujZRCn5R0qiZazZZTzbiMYF51Ge8llERu+DfBL5L2azS8dTrZBvcHd/9iUaeAT7NgO7z/ClgT+Key1WzDe5Gyx1iytDHb+ezSje3uDQ9f7zRmw/xL0k6VCu1T0ButNxwpchzVSb6HPCBNkdcqZ8HvgTOJy48LelcH7hPQfZmitcT9yuidhU43Dzpd53y18IgqP20qwZDXeBOjT57dg3oi7gv08iCpGPtNX2TrNsBjymud8g4RI5K+isJ3EoR4eH9g5neKanuWcqPLu9dRoemtT4V+XT0f4tnhj7Rz/ZtPBgKEZFTmEo8oD19QtLv44wNgldh4xm5B/yl7n36mFwPDO3bubGSBF7Bu7I6VfouqLQ4NHx94kOCJ1aDkgxeW4oIe9+x72JVQuYAH8dWzcCnDpUuAxHhHt73nP6fO0t3mvOH525vMCyys0qKO6u7T+f9+mbZFwMuYv4e6itxjyp8k/xndbN8eZJL2SbPv0CuVjxxJsdeAAAAAElFTkSuQmCC"},"8b70":function(t,a,e){t.exports=e.p+"static/img/empty.2ee565d5.svg"},"8d91":function(t,a,e){},9708:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAFJ0lEQVRIS71W7W9TVRh/nnPbbZ0MOnQwMJFIQkDRKFKytesGTYD23raZRokkqInGQDQa9QMJX/wL8IPxJQpK4luMQAKO9bYdFBppV4aOzZGAkBg0MbzoRMeo6/pyz2NO773bbbdu84v3U3vO7zm/5/c7z3POQfifP1wI3+DgoH10dHI1EaxGxCVEWpOIQ5TuEtEdRLjW0tJwzeVyFedbb07CZDK5aHLS3qVp0gZEbp9nsRIRDGsane3u9t6tha1JGIv1byJi24h43XxZW+eJoIjIEsGg+/xscTMIiUiKx/uDnOMTZgARckR+RZLsVzm333A6J7NibmysYZGm/bOSMVxLxNYhEjNjEPFHhyMf8fl8JSvxDEJV7e8GgA3TILosSSwRCHj+mktpPJ5Zqml8KwA+bOIYwxFZ9hyvSRiJZDyItN0AECL1KYp3wBqQSJy/t1QqtnLOiXO8GQp1/m2dj0bT7UToFzUlxhnjCVnuTE8pN3+cOjW4pFDIvw4ANr0CKW4lSyaTDbmcvZsIH6rIGOknp5Od8Hg8OXPcIA0Y/0uNjYUPfD7fWHndaVDmSSJ6XM8KL8my5+j0HhKq6sALiPzBWQsB2XVZbj+EiNycj0RSOxDZen09uijL3mNThHr29XtFwSCi5nA43vf5NpQzEt/JkwNrikVtl66cX3A4SqlSqYk0Le/VNNgkxjnnx8PhzhEzJpkcdk5MTLwmHBNFt3Qp7BculBWqauZRAHpaB9PlYNB7xKpEVdPbALADkeVkuX2/qYSIWDQ68DYARyL4IRTqUK1xsVhmB+dkqJSOyXL7xTJhNJoKE7GNunx9opLQrFx2Kxh0f2zO9fVl1pVKtLOcJtF3oZA3WRlnFQLDwWBHj0GY3kWEawRYkrQDgUDXTWugsBxgmS2bzfFw2DVx5AhJixf3d3HOOoVKsQ2SRAf8/o4/rHGJxMDyfF57RRcCP8tyx1empXsAaIWYaGx0vuPzrS83dq0vGu1/hgge0feUFQCK3ypK1+VqfF/fyD2lUnav7gD7PRRyf2QQDrwIoK3SFeJ7czW5UDsxUbfPILvtcDR8aS2wSmfKhfOmrpB+k2XvIcPS6YwZY5/JsvvXWuqMfn1LT46dCATcQ3NgHygU8i9Zi7FMGIud28I536JnDWcVpePMwgjpaCDgvVQL29ub2sIYq1i3TBiPD67QtPwenRD/lGX3h4hIsy0kLM3n7W4De6m6UMwYIsJo9NyrANQixjjHT8Jhz/Wpk0ZVM28AULNule14INA21cTVxJFIarXdbm/evr1t2Hq6WHHW3kbEMUXxvFtO0gT19qYeY4w9pVcUZhljBxWlfbyaTJxGqprZhwh2m832ud/f9ks1pqcn3SRJuBsRjJcB9iiKZ7iC0LBgt9keAHizuRm+sB7K5sKxWFrh3Lacc9th0ZeVlSmOyYbnifj9+ji7pSjtB00nKu5Dcadxji8T8Uaz7CWJH661T9XKotGzLQC2Z4noPiM+V1fHPt26te22iZ1xAZ8+3b8ql4PnhGWGvRxRG5IkKVOrP1Opi83Z7LhbHI/Ccj2OFe32wtd+/+YKy2d906jq961EpZ2I5KxUgaOMwQ3OudhjTgRNnNNKRFhWiWN3JKn4TfURWbGH1fb09g42StLkZgDmMrOu1W/TrSDuQ7rQ2lqfdLkq97ampbO0gGiVjYjSWrOnZhLjqCThVQAamu/ts6CHsEmQTl9pGh8fW8I5NdXXAxSLKN6f47O1Ty03/hPhfJYuZP5fEmFsOx1NoqAAAAAASUVORK5CYII="},"9ef7":function(t,a,e){t.exports=e.p+"static/img/Icon01.5e89783f.svg"},a128:function(t,a,e){},b752:function(t,a,e){t.exports=e.p+"static/img/ad.9e2be6d2.svg"},bb51:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"home"},[s("div",{staticClass:"home_top_box"},[s("a-row",{attrs:{gutter:12}},[s("a-col",{attrs:{xs:12,sm:12,md:12,lg:6}},[s("div",{staticClass:"home_top_row"},[s("img",{attrs:{src:e("9ef7")}}),s("div",{staticClass:"top_row_text skeleton"},[s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.allTotal.loading,expression:"allTotal.loading"}],staticStyle:{width:"200px"},attrs:{active:"",paragraph:{rows:0}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.allTotal.loading,expression:"!allTotal.loading"}]},[t._v("$"+t._s(t.$util.mathFormatter(t.allTotal.supply)))]),s("div",{staticStyle:{display:"flex","flex-direction":"row"}},[s("p",[t._v(t._s(t.$t("lang.总存款")))])])],1)])]),s("a-col",{attrs:{xs:12,sm:12,md:12,lg:6}},[s("div",{staticClass:"home_top_row"},[s("img",{attrs:{src:e("323e")}}),s("div",{staticClass:"top_row_text skeleton"},[s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.allTotal.loading,expression:"allTotal.loading"}],staticStyle:{width:"200px"},attrs:{active:"",paragraph:{rows:0}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.allTotal.loading,expression:"!allTotal.loading"}]},[t._v("$"+t._s(t.$util.mathFormatter(t.allTotal.borrow)))]),s("div",{staticStyle:{display:"flex","flex-direction":"row"}},[s("p",[t._v(t._s(t.$t("lang.总借款")))])])],1)])]),s("a-col",{attrs:{xs:12,sm:12,md:12,lg:6}},[s("div",{staticClass:"home_top_row"},[s("img",{attrs:{src:e("e0be")}}),s("div",{staticClass:"top_row_text skeleton"},[s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.allTotal.loading,expression:"allTotal.loading"}],staticStyle:{width:"200px"},attrs:{active:"",paragraph:{rows:0}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.allTotal.loading,expression:"!allTotal.loading"}]},[t._v("$"+t._s(t.$util.mathFormatter(t.allTotal.cap)))]),s("div",{staticStyle:{display:"flex","flex-direction":"row"}},[s("p",[t._v(t._s(t.$t("lang.流通市值")))])])],1)])]),s("a-col",{attrs:{xs:12,sm:12,md:12,lg:6}},[s("div",{staticClass:"home_top_row"},[s("img",{attrs:{src:e("e0be")}}),s("div",{staticClass:"top_row_text skeleton"},[s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.allTotal.loading,expression:"allTotal.loading"}],staticStyle:{width:"200px"},attrs:{active:"",paragraph:{rows:0}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.allTotal.loading,expression:"!allTotal.loading"}]},[t._v("$"+t._s(t.$util.mathFormatter(t.allTotal.price)))]),s("div",{staticStyle:{display:"flex","flex-direction":"row"}},[s("p",[t._v(t._s(t.$t("lang.KLT价格"))),s("img",{staticStyle:{width:"14px",height:"14px","margin-top":"-3px","margin-left":"3px",cursor:"pointer"},attrs:{src:e("bdb1")},on:{click:function(a){return t.$store.dispatch("addToken")}}})])])],1)])])],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.adList.length>0,expression:"adList.length>0"}],staticStyle:{display:"flex","font-size":"12px","font-weight":"500","margin-bottom":"8px"}},[s("img",{staticStyle:{width:"16px","margin-right":"10px"},attrs:{src:e("b752")}}),s("scroll-ad",{attrs:{dataList:t.adList,inhoverColor:"#515151",hoverColor:"#515151"}})],1),s("h5",{staticStyle:{"font-weight":"bold","margin-top":"8px","margin-bottom":"18px","font-size":"15px"}},[t._v(t._s(t.$t("lang.我的总览")))]),s("div",{staticClass:"home_borrow_box"},[s("div",{staticClass:"home_borrow_left"},[s("div",{staticClass:"borrow_left_box"},[s("div",{staticClass:"left_boxA"},[s("div",{staticClass:"borrow_right_total skeleton"},[s("span",[t._v(t._s(t.$t("lang.存款余额")))]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.userTotal.loading,expression:"!userTotal.loading"}],staticStyle:{"font-size":"25px"}},[t._v("$"+t._s(t.$util.mathFixed(t.userTotal.supply,4)))]),s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.userTotal.loading,expression:"userTotal.loading"}],staticStyle:{width:"100px","margin-top":"8px"},attrs:{active:"",paragraph:!1}})],1),s("div",{staticClass:"borrow_left_apy skeleton"},[s("a-progress",{attrs:{percent:parseInt(t.userTotal.apy),strokeWidth:3,width:125,type:"circle",strokeColor:"#062ef5","stroke-linecap":"square"},scopedSlots:t._u([{key:"format",fn:function(a){return[s("a-tooltip",{attrs:{placement:"bottom",title:t.$t("lang.综合年化提示")}},[s("h3",[t._v(t._s(t.$t("lang.综合年化")))]),s("img",{staticClass:"slippage_svg",attrs:{src:e("20ec3"),alt:"slippage_icon"}})]),s("h1",{directives:[{name:"show",rawName:"v-show",value:!t.userTotal.loading,expression:"!userTotal.loading"}]},[t._v(t._s(t.$util.mathFixed(t.userTotal.rate,2))),s("span",{staticStyle:{"font-size":"18px"}},[t._v("%")])]),s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.userTotal.loading,expression:"userTotal.loading"}],staticStyle:{"margin-top":"10px"},attrs:{active:"",paragraph:{rows:0}}})]}}])})],1),s("div",{staticClass:"borrow_right_total skeleton"},[s("span",[t._v(t._s(t.$t("lang.借款余额")))]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.userTotal.loading,expression:"!userTotal.loading"}],staticStyle:{"font-size":"25px"}},[t._v("$"+t._s(t.$util.mathFixed(t.userTotal.borrow,4)))]),s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.userTotal.loading,expression:"userTotal.loading"}],staticStyle:{width:"100px","margin-top":"8px"},attrs:{active:"",paragraph:!1}})],1)]),s("div",{staticClass:"left_boxB"},[s("div",{staticClass:"borrow_left_apy skeleton"},[s("a-progress",{attrs:{percent:parseInt(t.userTotal.apy),strokeWidth:3,width:125,type:"circle",strokeColor:"#062ef5","stroke-linecap":"square"},scopedSlots:t._u([{key:"format",fn:function(a){return[s("a-tooltip",{attrs:{placement:"bottom",title:t.$t("lang.综合年化提示")}},[s("h3",[t._v(t._s(t.$t("lang.综合年化")))]),s("img",{staticClass:"slippage_svg",attrs:{src:e("20ec3"),alt:"slippage_icon"}})]),s("h1",{directives:[{name:"show",rawName:"v-show",value:!t.userTotal.loading,expression:"!userTotal.loading"}]},[t._v(t._s(t.$util.mathFixed(t.userTotal.rate,2))),s("span",{staticStyle:{"font-size":"18px"}},[t._v("%")])]),s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.userTotal.loading,expression:"userTotal.loading"}],staticStyle:{"margin-top":"10px"},attrs:{active:"",paragraph:{rows:0}}})]}}])})],1),s("div",{staticClass:"borrow_center"},[s("div",{staticClass:"borrow_center_row"},[s("div",{staticClass:"center_row_box"},[s("p",[t._v(t._s(t.$t("lang.存款余额")))]),s("div",{staticClass:"center_row_total skeleton"},[s("div",{staticClass:"center_row_line",staticStyle:{"background-color":"rgba(6,46,245,0.2)"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.userTotal.loading,expression:"!userTotal.loading"}],staticStyle:{"font-size":"20px"}},[t._v("$"+t._s(t.$util.mathFixed(t.userTotal.supply,4)))]),s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.userTotal.loading,expression:"userTotal.loading"}],attrs:{active:"",paragraph:{rows:0}}})],1)])]),s("div",{staticClass:"borrow_center_row"},[s("div",{staticClass:"center_row_box"},[s("p",[t._v(t._s(t.$t("lang.借款余额")))]),s("div",{staticClass:"center_row_total skeleton"},[s("div",{staticClass:"center_row_line",staticStyle:{"background-color":"#062ef5"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.userTotal.loading,expression:"!userTotal.loading"}],staticStyle:{"font-size":"20px"}},[t._v("$"+t._s(t.$util.mathFixed(t.userTotal.borrow,4)))]),s("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:t.userTotal.loading,expression:"userTotal.loading"}],attrs:{active:"",paragraph:{rows:0}}})],1)])])])]),s("div",{staticClass:"borrow_center_progress borrow_center_progressA"},[s("div",{staticClass:"center_progress_text"},[t._v(t._s(t.$t("lang.借入限额"))),s("span",{staticStyle:{"margin-left":"6px","margin-right":"10px",color:"#83829b"}},[t._v(t._s(t.$util.mathFixed(t.userTotal.used,2)+"%"))])]),s("div",{staticClass:"center_progress_box"},[s("a-progress",{attrs:{strokeWidth:4,percent:parseInt(t.userTotal.used),strokeColor:t.getStrokeColor(parseInt(t.userTotal.used)),size:"small","show-info":!1}})],1),s("div",{staticClass:"center_progress_text",staticStyle:{"margin-left":"10px",color:"#83829b"}},[t._v(t._s("$"+t.$util.mathFormatter(t.userTotal.collateral)))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.userTotal.warming,expression:"userTotal.warming"}],staticClass:"warming"},[s("span",[t._v(t._s(t.$t("lang.清算风险")))])]),s("div",{staticClass:"borrow_center_progress borrow_center_progressB"},[s("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between"}},[s("div",{staticClass:"center_progress_text"},[t._v(t._s(t.$t("lang.借入限额"))),s("span",{staticStyle:{"margin-left":"6px"}},[t._v(t._s(t.$util.mathFixed(t.userTotal.used,2)+"%"))])]),s("div",{staticClass:"center_progress_text"},[t._v(t._s("$"+t.$util.mathFormatter(t.userTotal.collateral)))])]),s("div",{staticClass:"center_progress_box"},[s("a-progress",{attrs:{strokeWidth:4,percent:parseInt(t.userTotal.used),strokeColor:t.getStrokeColor(t.userTotal.used),size:"small","show-info":!1}})],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.userTotal.warming,expression:"userTotal.warming"}],staticClass:"warming1"},[s("span",[t._v(t._s(t.$t("lang.清算风险")))])])])])]),s("h5",{staticStyle:{"font-weight":"bold","margin-top":"18px","margin-bottom":"18px","font-size":"15px"}},[t._v(t._s(t.$t("lang.我的存借")))]),s("div",{staticClass:"borrow_market_box"},[s("div",{staticClass:"borrow_list_title"},[s("div",{staticClass:"list_title_img"},[s("div",{staticStyle:{"padding-right":"50px"}},[s("a-tooltip",{attrs:{placement:"bottom",title:t.$t("lang.使用率提示")}},[t._v(" "+t._s(t.$t("lang.资产"))+" "),s("img",{staticClass:"slippage_svg",staticStyle:{width:"14px"},attrs:{src:e("9708"),alt:"slippage_icon"}})])],1)]),s("div",{staticClass:"list_title_total"},[t._v(t._s(t.$t("lang.我已存款")))]),s("div",{staticClass:"list_title_total"},[t._v(t._s(t.$t("lang.我已借款")))]),s("div",{staticClass:"list_title_total"},[t._v(t._s(t.$t("lang.钱包余额")))]),s("div",{staticClass:"list_title_row"},[s("a-tooltip",{attrs:{placement:"bottom",title:t.$t("lang.抵押提示")}},[t._v(" "+t._s(t.$t("lang.是否抵押"))+" "),s("img",{staticClass:"slippage_svg",attrs:{src:e("9708"),alt:"slippage_icon"}})])],1),s("div",{staticClass:"list_title_btn"},[t._v(t._s(t.$t("lang.操作")))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"ske"},t._l(2,(function(t,a){return s("div",{key:a,staticClass:"skeitem"},[s("a-skeleton",{staticClass:"ske_c_1",attrs:{active:"",avatar:{size:"default",shape:"circle"},title:{width:30},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_2",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_2",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_2",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_2",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_3",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_4",attrs:{active:"",title:{width:50},paragraph:!1}})],1)})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.loading&&0==t.userMarkets.length,expression:"loading==false && userMarkets.length==0"}],staticClass:"empty"},[s("img",{attrs:{src:e("8b70")}}),s("span",[t._v("No Data")])]),t._l(t.userMarkets,(function(a,e){return s("div",{key:e,staticClass:"borrow_list_item"},[s("div",{staticClass:"list_item_img"},[s("img",{attrs:{src:a.icon}}),s("div",[s("p",[t._v(t._s(a.symbol))]),s("div",{staticStyle:{"font-size":"13px"}},[t._v("UR: "+t._s(t.$util.mathFixed(a.used,2))+"%")])])]),s("div",{staticClass:"list_item_total"},[s("div",[s("p",[t._v(t._s(t.$util.mathFormatter(a.mySupply)))]),s("div",[t._v("=$"+t._s(t.$util.mathFormatter(a.mySupplyU)))])])]),s("div",{staticClass:"list_item_total"},[s("div",[s("p",[t._v(t._s(t.$util.mathFormatter(a.myBorrow)))]),s("div",[t._v("=$"+t._s(t.$util.mathFormatter(a.myBorrowU)))])])]),s("div",{staticClass:"list_item_total"},[s("div",[s("p",[t._v(t._s(t.$util.mathFormatter(a.myBalance)))]),s("div",[t._v("=$"+t._s(t.$util.mathFormatter(a.myBalanceU)))])])]),s("div",{staticClass:"list_item_text",on:{click:function(e){return e.stopPropagation(),t.$refs.enableRef.showModal(a)}}},[s("div",{staticClass:"bg_con"},[s("span",{staticClass:"weui-switch",class:{"weui-switch-on":a.collateral}})])]),s("div",{staticClass:"list_item_btn"},[s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{staticClass:"loan_btn",staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.$refs.supplyWithdrawRef.showModal(a)}}},[t._v(" "+t._s(t.$t("lang.存款"))+" ")])],1),s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{staticClass:"deposit_btn",attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.$refs.borrowRepayRef.showModal(a)}}},[t._v(" "+t._s(t.$t("lang.借款"))+" ")])],1)],1)])}))],2),s("div",{staticClass:"borrow_market_list"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.loading&&0==t.userMarkets.length,expression:"loading==false && userMarkets.length==0"}],staticClass:"empty"},[s("img",{attrs:{src:e("8b70")}}),s("span",[t._v("No Data")])]),t._l(t.userMarkets,(function(a,i){return s("div",{key:i,staticClass:"market_list_item"},[s("div",{staticClass:"list_item_column",staticStyle:{"align-items":"flex-start"}},[s("div",{staticClass:"list_item_img"},[s("img",{attrs:{src:a.icon}}),s("p",[t._v(t._s(a.symbol))])]),s("span",{staticStyle:{width:"40px"}}),s("div",{staticStyle:{display:"flex","margin-top":"7px"}},[t._v(t._s(t.$t("lang.抵押状态"))+" "),s("a-tooltip",{attrs:{placement:"bottom",title:t.$t("lang.抵押提示")}},[s("img",{staticClass:"slippage_svg",staticStyle:{width:"14px",height:"14px","margin-top":"2px","margin-left":"2px"},attrs:{src:e("9708"),alt:"slippage_icon"}})]),s("span",{staticClass:"weui-switch",class:{"weui-switch-on":a.collateral},staticStyle:{"margin-left":"10px"},on:{click:function(e){return e.stopPropagation(),t.$refs.enableRef.showModal(a)}}})],1)]),s("div",{staticClass:"list_item_column"},[s("div",[t._v(t._s(t.$t("lang.使用率"))+" "),s("span",[t._v(t._s(t.$util.mathFixed(a.used,2))+"%")])]),s("span",{staticStyle:{width:"40px"}}),s("div",[t._v(t._s(t.$t("lang.我已存款"))+": "),s("span",[t._v(t._s(t.$util.mathFormatter(a.mySupply)))])])]),s("div",{staticClass:"list_item_column"},[s("div",[t._v(t._s(t.$t("lang.钱包余额"))+": "),s("span",[t._v(t._s(t.$util.mathFormatter(a.myBalance)))])]),s("span",{staticStyle:{width:"40px"}}),s("div",[t._v(t._s(t.$t("lang.我已借款"))+": "),s("span",[t._v(t._s(t.$util.mathFormatter(a.myBorrow)))])])]),s("div",{staticClass:"list_item_btn"},[s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{staticClass:"loan_btn",staticStyle:{"margin-right":"40px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.$refs.supplyWithdrawRef.showModal(a)}}},[t._v(" "+t._s(t.$t("lang.存款"))+" ")])],1),s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{staticClass:"deposit_btn",attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.$refs.borrowRepayRef.showModal(a)}}},[t._v(" "+t._s(t.$t("lang.借款"))+" ")])],1)],1)])}))],2),s("h5",{staticStyle:{"font-weight":"bold","margin-top":"18px","margin-bottom":"18px","font-size":"15px"}},[t._v(t._s(t.$t("lang.存借市场")))]),s("div",{staticClass:"borrow_market_box"},[s("div",{staticClass:"borrow_list_title"},[s("div",{staticClass:"list_title_img"},[s("div",{staticStyle:{"padding-right":"50px"}},[s("a-tooltip",{attrs:{placement:"bottom",title:t.$t("lang.使用率提示")}},[t._v(" "+t._s(t.$t("lang.资产"))+" "),s("img",{staticClass:"slippage_svg",staticStyle:{width:"14px"},attrs:{src:e("9708"),alt:"slippage_icon"}})])],1)]),s("div",{staticClass:"list_title_total"},[t._v(" "+t._s(t.$t("lang.存款APY"))+" ")]),s("div",{staticClass:"list_title_total"},[s("a-tooltip",{attrs:{placement:"bottom",title:t.$t("lang.借率提示")}},[t._v(" "+t._s(t.$t("lang.借款成本"))+" "),s("img",{staticClass:"slippage_svg",attrs:{src:e("9708"),alt:"slippage_icon"}})])],1),s("div",{staticClass:"list_title_total"},[t._v(t._s(t.$t("lang.存款总额")))]),s("div",{staticClass:"list_title_total"},[t._v(t._s(t.$t("lang.剩余可借")))]),s("div",{staticClass:"list_title_btn"},[t._v(t._s(t.$t("lang.操作")))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"ske"},t._l(2,(function(t,a){return s("div",{key:a,staticClass:"skeitem"},[s("a-skeleton",{staticClass:"ske_c_1",attrs:{active:"",avatar:{size:"default",shape:"circle"},title:{width:30},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_2",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_2",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_2",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_2",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_2",attrs:{active:"",title:{width:50},paragraph:!1}}),s("a-skeleton",{staticClass:"ske_c_4",attrs:{active:"",title:{width:50},paragraph:!1}})],1)})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.loading&&0==t.allMarkets.length,expression:"loading==false && allMarkets.length==0"}],staticClass:"empty"},[s("img",{attrs:{src:e("8b70")}}),s("span",[t._v("No Data")])]),t._l(t.allMarkets,(function(a,e){return s("div",{key:e,staticClass:"borrow_list_item"},[s("div",{staticClass:"list_item_img"},[s("img",{attrs:{src:a.icon}}),s("div",[s("p",[t._v(t._s(a.symbol))]),s("div",{staticStyle:{"font-size":"13px"}},[t._v("UR: "+t._s(t.$util.mathFixed(a.used,2))+"%")])])]),s("div",{staticClass:"list_item_total"},[s("div",[s("p",[t._v(t._s(t.$util.mathFixed(t.$util.mathAdd(a.supplyApy,a.mSuppleyApy),2))+"%")]),s("div",{directives:[{name:"show",rawName:"v-show",value:a.supplyApy>0,expression:"item.supplyApy>0"}]},[t._v("="+t._s(t.$util.mathFixed(a.supplyApy,2))+"%+"),s("span",[t._v(t._s(t.$util.mathFixed(a.mSuppleyApy,2))+"%")])])])]),s("div",{staticClass:"list_item_total"},[s("div",[s("p",{style:{color:t.$util.mathMinus(a.borrowApy,a.mBorrowApy)>0?"#DF5F67":"#13c09d"}},[t._v(t._s(t.$util.mathFixed(t.$util.mathMinus(a.borrowApy,a.mBorrowApy),2))+"%")]),s("div",[t._v("="+t._s(t.$util.mathFixed(a.borrowApy,2))+"%-"),s("span",[t._v(t._s(t.$util.mathFixed(a.mBorrowApy,2))+"%")])])])]),s("div",{staticClass:"list_item_total"},[s("div",[s("p",[t._v(t._s(t.$util.mathFormatter(a.totalSupply)))]),s("div",[t._v("=$"+t._s(t.$util.mathFormatter(a.totalSupplyU)))])])]),s("div",{staticClass:"list_item_total"},[s("div",[s("p",[t._v(t._s(t.$util.mathFormatter(a.totalCash)))]),s("div",[t._v("=$"+t._s(t.$util.mathFormatter(a.totalCashU)))])])]),s("div",{staticClass:"list_item_btn"},[s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{staticClass:"loan_btn",staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.$refs.supplyWithdrawRef.showModal(a)}}},[t._v(" "+t._s(t.$t("lang.存款"))+" ")])],1),s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{staticClass:"deposit_btn",attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.$refs.borrowRepayRef.showModal(a)}}},[t._v(" "+t._s(t.$t("lang.借款"))+" ")])],1)],1)])}))],2),s("div",{staticClass:"borrow_market_list"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.loading&&0==t.allMarkets.length,expression:"loading==false && allMarkets.length==0"}],staticClass:"empty"},[s("img",{attrs:{src:e("8b70")}}),s("span",[t._v("No Data")])]),t._l(t.allMarkets,(function(a,i){return s("div",{key:i,staticClass:"market_list_item"},[s("div",{staticClass:"list_item_img"},[s("img",{attrs:{src:a.icon}}),s("p",[t._v(t._s(a.symbol))])]),s("div",{staticClass:"list_item_column"},[s("div",[s("div",[t._v(t._s(t.$t("lang.使用率"))+" "),s("span",[t._v(t._s(t.$util.mathFixed(a.used,2))+"%")])])]),s("span",{staticStyle:{width:"40px"}}),s("div",{staticStyle:{"white-space":"nowrap",display:"inline"}},[t._v(t._s(t.$t("lang.存款APY"))+" "),s("a-tooltip",{attrs:{placement:"bottom",title:t.$t("lang.存率提示")}},[s("img",{staticClass:"slippage_svg",staticStyle:{width:"14px","margin-right":"3px"},attrs:{src:e("9708"),alt:"slippage_icon"}})]),s("span",[t._v(t._s(t.$util.mathFixed(t.$util.mathAdd(a.supplyApy,a.mSuppleyApy),2))+"%")])],1)]),s("div",{staticClass:"list_item_column"},[s("div",[t._v(t._s(t.$t("lang.剩余可借"))+": "),s("span",[t._v(t._s(t.$util.mathFormatter(a.totalCash)))])]),s("span",{staticStyle:{width:"40px"}}),s("div",{staticStyle:{"white-space":"nowrap",display:"inline"}},[t._v(t._s(t.$t("lang.借款成本"))+" "),s("a-tooltip",{attrs:{placement:"bottom",title:t.$t("lang.借率提示")}},[s("img",{staticClass:"slippage_svg",staticStyle:{width:"14px","margin-right":"3px"},attrs:{src:e("9708"),alt:"slippage_icon"}})]),s("span",{style:{color:t.$util.mathMinus(a.borrowApy,a.mBorrowApy)>0?"#DF5F67":"#13c09d"}},[t._v(t._s(t.$util.mathFixed(t.$util.mathMinus(a.borrowApy,a.mBorrowApy),2))+"%")])],1)]),s("div",{staticClass:"list_item_btn"},[s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{staticClass:"loan_btn",staticStyle:{"margin-right":"40px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.$refs.supplyWithdrawRef.showModal(a)}}},[t._v(" "+t._s(t.$t("lang.存款"))+" ")])],1),s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{staticClass:"deposit_btn",attrs:{type:"primary",size:"small"},on:{click:function(e){return e.stopPropagation(),t.$refs.borrowRepayRef.showModal(a)}}},[t._v(" "+t._s(t.$t("lang.借款"))+" ")])],1)],1)])}))],2),s("GetAirdrop",{ref:"getAirdropRef"}),s("EnableModal",{ref:"enableRef",attrs:{totalBorrow:t.userTotal.borrow,totalCollateral:t.userTotal.collateral},on:{"app-refresh":t.doRefresh}}),s("SupplyWithdrawModal",{ref:"supplyWithdrawRef",attrs:{totalBorrow:t.userTotal.borrow,totalCollateral:t.userTotal.collateral},on:{"app-refresh":t.doRefresh}}),s("BorrowRepayModal",{ref:"borrowRepayRef",attrs:{totalBorrow:t.userTotal.borrow,totalCollateral:t.userTotal.collateral},on:{"app-refresh":t.doRefresh}})],1)},i=[],r=e("1da1"),n=(e("d3b7"),e("ddb0"),e("96cf"),function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a-modal",{staticClass:"modal-div",attrs:{width:406,centered:"",closable:!1,maskClosable:!0,footer:""},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[s("div",{staticClass:"modal-top"},[s("div",{staticClass:"modal-top-left"}),s("span",{staticClass:"main_btn_color"},[t._v(t._s(t.item.collateral?t.$t("lang.关闭抵押"):t.$t("lang.启用抵押")))]),s("div",{staticClass:"modal-top-right",on:{click:t.handleCancel}},[s("img",{attrs:{src:e("2cc3"),alt:"sd_icon"}})])]),s("div",{staticClass:"enable-box"},[s("img",{attrs:{src:t.item.icon,alt:"logo_group"}}),s("p",{staticClass:"box-text"},[t._v(t._s(t.$t("lang.每个用作抵押的资产都会增加您的借贷限额，请注意，这可能会使资产在清算中被扣押。"))),s("a",{staticStyle:{color:"#062ef5"},attrs:{href:"https://docs.klend.finance",target:"_blank"}},[t._v(t._s(t.$t("lang.了解详情")))])]),s("div",{staticClass:"box-item"},[s("span",{staticStyle:{color:"#393760","font-size":"14px","font-weight":"400"}},[t._v(t._s(t.$t("lang.借入限额")))]),s("div",{staticClass:"calculation_right"},[s("p",{staticClass:"main_btn_color"},[t._v(t._s("$"+t.borrow.source))]),s("a-icon",{staticStyle:{color:"#393760",padding:"0 10px"},attrs:{type:"arrow-right"}}),s("p",{staticClass:"main_btn_color"},[t._v(t._s("$"+t.borrow.target))])],1)]),s("div",{staticClass:"box-item"},[s("span",{staticStyle:{color:"#393760","font-size":"14px","font-weight":"400"}},[t._v(t._s(t.$t("lang.已用额度")))]),s("div",{staticClass:"calculation_right"},[s("p",{staticClass:"main_btn_color"},[t._v(t._s(t.borrow.useRate+"%"))]),s("a-icon",{staticStyle:{color:"#393760",padding:"0 10px"},attrs:{type:"arrow-right"}}),s("p",{staticClass:"main_btn_color"},[t._v(t._s(t.borrow.targetRate+"%"))])],1)]),s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{staticClass:"deposit_btn",attrs:{disabled:!t.enable,loading:t.excuting,type:"primary",size:"large"},on:{click:t.handleOk}},[t._v(t._s(t.enable?t.item.collateral?t.$t("lang.关闭"):t.$t("lang.启用"):t.btn_title))])],1)],1)])}),o=[],l=e("d1f3"),c=e("901e"),u=e.n(c),h={name:"enableModal",props:{totalBorrow:0,totalCollateral:0},data:function(){return{visible:!1,excuting:!1,item:{},enable:!0,borrow:{source:0,target:0,useRate:0,targetRate:0},btn_title:""}},methods:{showModal:function(t){if(this.visible=!0,this.excuting=!1,this.enable=!0,this.item=t,this.btn_title=this.$t("lang.借款额度受限"),t.collateral){var a=this.$util.mathMinus(this.totalCollateral,t.collateral_value);a.isGreaterThan(0)||(a=u()(0)),this.borrow.source=this.$util.mathFormatter(this.totalCollateral),this.borrow.target=this.$util.mathFormatter(a),this.borrow.useRate=this.$util.mathFixed(this.$util.mathMul(this.$util.mathDiv(this.totalBorrow,this.totalCollateral),100),2),this.borrow.targetRate=this.$util.mathFixed(this.$util.mathMul(this.$util.mathDiv(this.totalBorrow,a),100),2),u()(this.totalBorrow).isGreaterThan(a)&&(this.enable=!1)}else{var e=this.$util.mathAdd(this.totalCollateral,t.collateral_value);this.borrow.source=this.$util.mathFormatter(this.totalCollateral),this.borrow.target=this.$util.mathFormatter(e),this.borrow.useRate=this.$util.mathFixed(this.$util.mathMul(this.$util.mathDiv(this.totalBorrow,this.totalCollateral),100),2),this.borrow.targetRate=this.$util.mathFixed(this.$util.mathMul(this.$util.mathDiv(this.totalBorrow,e),100),2)}u()(t.myBorrow).isGreaterThan(0)&&(this.enable=!1,this.btn_title=this.$t("lang.存在借款，无法关闭"))},handleCancel:function(){this.visible=!1},handleOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.excuting){a.next=2;break}return a.abrupt("return");case 2:e=t,s=t.item;try{i=t.$store.state.web3,r=new i.eth.Contract(window.config.unitroller_abi,window.config.current_config.uni_addr),e.excuting=!0,s.collateral?r.methods.exitMarket(s.atoken_addr).send({from:t.$store.state.wallet_address},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.关闭抵押成功"),window.config.current_delay,!0),e.handleCancel()}))})):r.methods.enterMarkets([s.atoken_addr]).send({from:t.$store.state.wallet_address},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.启用抵押成功"),window.config.current_delay,!0),e.handleCancel()}))}))}catch(n){e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1}case 5:case"end":return a.stop()}}),a)})))()},checkStatus:function(t,a){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(i=e,e.excuting){s.next=3;break}return s.abrupt("return");case 3:e.checkTimer&&clearInterval(e.checkTimer),e.checkTimer=setInterval(Object(r["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["b"](t);case 2:s=e.sent,s&&s.result&&(r=parseInt(s.result.status),1==r&&(clearInterval(i.checkTimer),i.excuting&&(i.excuting=!1,a())));case 4:case"end":return e.stop()}}),e)}))),2e3);case 5:case"end":return s.stop()}}),s)})))()}}},p=h,d=(e("ff36"),e("2877")),m=Object(d["a"])(p,n,o,!1,null,null,null),w=m.exports,v=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a-modal",{staticClass:"modal_div",attrs:{width:406,centered:"",closable:!1,maskClosable:!1,footer:""},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[s("div",{staticClass:"modal_top"},[s("div",{staticClass:"top_title"},[s("div",{staticClass:"modal-top-left"}),s("span",[t._v(t._s(t.data.symbol+t.$t("lang.存取")))]),s("div",{staticClass:"modal-top-right",on:{click:t.handleCancel}},[s("img",{attrs:{src:e("5dfc"),alt:"sd_icon"}})])]),s("div",{staticClass:"content_top"},[s("a-tooltip",{attrs:{placement:"top",visible:t.showTool}},[s("template",{slot:"title"},[s("span",{staticStyle:{"font-size":"13px"}},[t._v(" "+t._s(t.$t("lang.还有少量利息未提取"))+" "),s("span",{staticStyle:{color:"rgba(19,192,157,1)"}},[t._v(t._s(t.$t("lang.最高")))]),t._v(" "+t._s(t.$t("lang.可进行提取"))+" ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"withdraw"==t.transactionType||"supply"==t.transactionType&&t.isEnable,expression:"transactionType=='withdraw'||(transactionType=='supply'&&isEnable)"}],staticClass:"input_hint secondary_bg"},[s("img",{attrs:{src:t.data.icon}}),s("a-input",{staticClass:"input_btn",attrs:{size:"large",placeholder:("supply"==t.transactionType?t.$t("lang.钱包余额"):t.$t("lang.当前存款"))+" "+t.$util.mathFixed("supply"==t.transactionType?t.balance:t.supply,4)+" "+t.data.symbol},on:{change:t.onInputConvert},model:{value:t.amount,callback:function(a){t.amount=a},expression:"amount"}},[s("a-button",{staticClass:"link_btn",attrs:{slot:"suffix",type:"link"},on:{click:t.max},slot:"suffix"},[t._v(t._s(t.$t("lang.最高")))])],1)],1)],2),s("div",{directives:[{name:"show",rawName:"v-show",value:"supply"==t.transactionType&&!t.isEnable,expression:"transactionType=='supply'&&!isEnable"}],staticClass:"input_hint"},[s("img",{attrs:{src:t.data.icon}}),s("p",{staticClass:"highlight_color"},[t._v(t._s(t.$t("lang.要向复合协议")+" "+t.data.symbol+" "+t.$t("lang.提供或偿还")+t.$t("lang.您需要先启用它")))])])],1)]),s("div",{staticClass:"modal_content"},[s("div",{staticClass:"switch_div"},[s("div",{staticClass:"switch_btn",class:"supply"==t.transactionType&&"switch_active_btn",on:{click:function(a){return t.onSwitch("supply")}}},[s("p",[t._v(t._s(t.$t("lang.存款")))]),s("div",{staticClass:"switch_line"})]),s("div",{staticClass:"switch_btn",class:"withdraw"==t.transactionType&&"switch_active_btn",on:{click:function(a){return t.onSwitch("withdraw")}}},[s("p",[t._v(t._s(t.$t("lang.取回")))]),s("div",{staticClass:"switch_line"})])]),s("div",{staticStyle:{padding:"0px 20px"}},[s("h2",{staticClass:"main_btn_color"},[t._v(t._s(t.$t("lang.存款利率")))]),s("div",{staticClass:"rates_div"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.data.supplyApy>0,expression:"data.supplyApy>0"}],staticClass:"calculation"},[s("div",{staticClass:"box"},[s("img",{attrs:{src:t.data.icon}}),s("div",[s("p",[t._v(t._s(t.$util.mathFixed(t.data.supplyApy,2)+"%"))]),s("span",[t._v(t._s(t.$t("lang.存款年化")))])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.data.supplyApy>0,expression:"data.supplyApy>0"}],staticClass:"rates_line"},[t._v("+")]),s("div",{staticClass:"calculation"},[s("div",{staticClass:"box"},[s("img",{attrs:{src:e("5b1c")}}),s("div",[s("p",[t._v(t._s(t.$util.mathFixed(t.data.mSuppleyApy,2)+"%"))]),s("span",[t._v(t._s(t.$t("lang.挖矿年化")))])])])])]),s("h2",{staticClass:"main_btn_color"},[t._v(t._s(t.$t("lang.借款限额")))]),s("div",{staticClass:"remaining_div"},[s("div",{staticClass:"remaining_top"},[s("div",[s("span",[t._v(t._s(t.$t("lang.借款限额")))])]),s("div",[s("span",[t._v(t._s(t.$t("lang.借款率")))])])]),s("a-progress",{attrs:{percent:parseInt(t.borrow.targetRate>=0?t.borrow.targetRate:t.borrow.useRate),strokeWidth:4,strokeColor:t.getStrokeColor(parseInt(t.borrow.targetRate>0?t.borrow.targetRate:t.borrow.useRate)),"show-info":!1}}),s("div",{staticClass:"remaining_bottom"},[s("div",[s("p",[t._v(t._s("$"+t.borrow.source))]),s("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.amount&&t.data.collateral,expression:"(amount && data.collateral)"}],attrs:{type:"arrow-right"}}),s("p",{directives:[{name:"show",rawName:"v-show",value:t.amount&&t.data.collateral,expression:"(amount && data.collateral)"}]},[t._v(t._s("$"+t.$util.mathFormatter(t.borrow.target)))])],1),s("div",[s("span",{style:(t.useMax,"color:#83829B")},[t._v(t._s(t.borrow.useRate+"%"))]),s("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.amount&&t.data.collateral,expression:"(amount && data.collateral)"}],attrs:{type:"arrow-right"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.amount&&t.data.collateral,expression:"(amount && data.collateral)"}],style:(t.targetMax,"color:#83829B")},[t._v(t._s(t.borrow.targetRate+"%"))])],1)])],1)]),s("div",{staticClass:"content_bottom"},[s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{directives:[{name:"show",rawName:"v-show",value:"supply"==t.transactionType&&!t.isEnable,expression:"transactionType=='supply'&&!isEnable"}],staticClass:"deposit_btn",attrs:{loading:t.excuting,type:"primary",size:"large"},on:{click:t.authorizationOk}},[t._v(t._s(t.$t("lang.授权"))+" ")])],1),s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{directives:[{name:"show",rawName:"v-show",value:"supply"==t.transactionType&&t.isEnable,expression:"transactionType=='supply'&&isEnable"}],staticClass:"deposit_btn",attrs:{loading:t.excuting,disabled:0!=t.supplyBtn||!t.amount,type:"primary",size:"large"},on:{click:t.supplyHandleOk}},[t._v(t._s(t.$t("lang."+t.supplyBtnText[t.supplyBtn]))+" ")])],1),s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{directives:[{name:"show",rawName:"v-show",value:"withdraw"==t.transactionType,expression:"transactionType=='withdraw'"}],staticClass:"deposit_btn",attrs:{loading:t.excuting,disabled:0!=t.withdrawBtn||!t.amount,type:"primary",size:"large"},on:{click:t.withdrawHandleOk}},[t._v(t._s(t.$t("lang."+t.withdrawBtnText[t.withdrawBtn]))+" ")])],1)],1)])])},g=[],_=e("5530"),b=(e("25f0"),{name:"supplyModal",props:{totalBorrow:0,totalCollateral:0},data:function(){return{visible:!1,confirm:!1,amount:"",data:{},transactionType:"supply",isEnable:!0,supplyBtn:0,supplyBtnText:["存款","钱包余额不足","请输入数量"],withdrawBtn:0,withdrawBtnText:["取回","存款余额不足","超出借款限额","流动性不足","请输入数量"],balance:0,supply:0,targetMax:!1,useMax:!1,excuting:!1,total_borrow:0,total_collateral:0,is_min:!1,showTool:!1,borrow:{source:0,target:0,useRate:0,targetRate:0}}},methods:{showModal:function(t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.data=Object(_["a"])({},t),a.total_borrow=a.totalBorrow,a.total_collateral=a.totalCollateral,a.visible=!0,a.excuting=!1,a.amount="",a.transactionType="supply",a.refresh();case 8:case"end":return e.stop()}}),e)})))()},getStrokeColor:function(t){return t>80&&t<90?"#f8b94b":t>=90?"#DF5F67":"rgba(19,192,157,1)"},refresh:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r,n,o,l,c,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.amount="",e=t.$store.state.web3,s=new e.eth.Contract(window.config.a_token_abi,t.data.atoken_addr),a.next=5,s.methods.balanceOfUnderlying(t.$store.state.wallet_address).call();case 5:return i=a.sent,r=t.$util.mathDiv(i,t.$util.mathPow(10,t.data.decimals)),t.supply=r,a.next=10,s.methods.getCash().call();case 10:if(n=a.sent,o=t.$util.mathDiv(n,t.$util.mathPow(10,t.data.decimals)),t.data.supply_count=o,l=0,1!=t.data.isMain){a.next=20;break}return a.next=17,e.eth.getBalance(t.$store.state.wallet_address);case 17:l=a.sent,a.next=24;break;case 20:return c=new e.eth.Contract(window.config.token_abi,t.data.underlying),a.next=23,c.methods.balanceOf(t.$store.state.wallet_address).call();case 23:l=a.sent;case 24:l=t.$util.mathDiv(l,t.$util.mathPow(10,t.data.decimals)),t.balance=l,h=t.$util.mathMul(1e-4,t.$util.mathPow(10,t.data.decimals)),u()(i).isGreaterThan(0)&&u()(h).isGreaterThan(i)&&(t.is_min=!0),t.supplyBtn=u()(t.balance).isGreaterThan(0)?0:1,t.withdrawBtn=u()(t.supply).isGreaterThan(0)?0:1,t.getMintAllowed(),t.refreshData();case 32:case"end":return a.stop()}}),a)})))()},handleCancel:function(){this.supply=0,this.balance=0,this.is_min=!1,this.showTool=!1,this.visible=!1},onSwitch:function(t){this.amount="",this.transactionType=t,this.supplyBtn=u()(this.balance).isGreaterThan(0)?0:1,this.withdrawBtn=u()(this.supply).isGreaterThan(0)?0:1,this.refreshData()},getMintAllowed:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(1!=t.data.isMain){a.next=4;break}t.isEnable=!0,a.next=11;break;case 4:return e=t.$store.state.web3,s=new e.eth.Contract(window.config.token_abi,t.data.underlying),a.next=8,s.methods.allowance(t.$store.state.wallet_address,t.data.atoken_addr).call();case 8:i=a.sent,r=t.$util.mathMul(1e7,t.$util.mathPow(10,t.data.decimals)),u()(i).isGreaterThan(r)?t.isEnable=!0:t.isEnable=!1;case 11:case"end":return a.stop()}}),a)})))()},max:function(){if("withdraw"!=this.transactionType){if(1==this.data.isMain)return u()(this.balance).isGreaterThan(.005)?this.amount=this.$util.mathFixed(this.$util.mathMinus(this.balance,.005).toString(),4):this.amount=0,void this.onInputConvert();this.amount=this.$util.mathFixed(this.balance.toString(),4),this.onInputConvert()}else{if(this.data.collateral)if(u()(this.borrow.useRate).isGreaterThan(0))if(u()(this.borrow.useRate).isGreaterThan(80))this.amount=0;else{var t=this.$util.mathDiv(this.$util.mathMinus(80,this.borrow.useRate),100),a=this.$util.mathMul(this.total_collateral,t),e=this.$util.mathDiv(a,this.data.token_price),s=this.$util.mathDiv(e,this.data.factor);u()(s).isGreaterThan(this.supply)?this.amount=this.$util.mathFixed(this.supply,8):this.amount=this.$util.mathFixed(s,8)}else this.amount=this.$util.mathFixed(this.supply,8);else this.amount=this.$util.mathFixed(this.supply,8);this.onInputConvert()}},authorizationOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.excuting){a.next=2;break}return a.abrupt("return");case 2:e=t;try{e.excuting=!0,s=t.$util.mathMul(1e11,t.$util.mathPow(10,t.data.decimals)),s=t.$util.mathFixed(s,0),i=t.$store.state.web3,r=new i.eth.Contract(window.config.token_abi,t.data.underlying),r.methods.approve(t.data.atoken_addr,s).send({from:t.$store.state.wallet_address},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.授权成功"),3,!1),e.isEnable=!0}))}))}catch(n){e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1}case 4:case"end":return a.stop()}}),a)})))()},checkStatus:function(t,a){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(i=e,e.excuting){s.next=3;break}return s.abrupt("return");case 3:e.checkTimer&&clearInterval(e.checkTimer),e.checkTimer=setInterval(Object(r["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["b"](t);case 2:s=e.sent,s&&s.result&&(r=parseInt(s.result.status),1==r&&(clearInterval(i.checkTimer),i.excuting&&(i.excuting=!1,a())));case 4:case"end":return e.stop()}}),e)}))),2e3);case 5:case"end":return s.stop()}}),s)})))()},supplyHandleOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!u()(t.amount).isGreaterThan(t.balance)){a.next=3;break}return t.$message.error(t.$t("lang.余额不足")),a.abrupt("return");case 3:if(!t.excuting){a.next=5;break}return a.abrupt("return");case 5:e=t;try{e.excuting=!0,s=t.$util.mathMul(t.amount,t.data.token_price),isNaN(s)&&(s=u()(0)),t.$util.mathMul(s,t.data.factor),i=t.$util.mathMul(t.amount,t.$util.mathPow(10,t.data.decimals)),i=t.$util.mathFixed(i,0),1==t.data.isMain?(r=new t.$store.state.web3.eth.Contract(window.config.a_eth_abi,t.data.atoken_addr),r.methods.mint().send({from:t.$store.state.wallet_address,value:String(i)},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.存款成功"),window.config.current_delay,!0),e.handleCancel()}))}))):(n=new t.$store.state.web3.eth.Contract(window.config.a_token_abi,t.data.atoken_addr),n.methods.mint(i).send({from:t.$store.state.wallet_address},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.存款成功"),window.config.current_delay,!0),e.handleCancel()}))})))}catch(o){e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1}case 7:case"end":return a.stop()}}),a)})))()},withdrawHandleOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!u()(t.amount).isGreaterThan(t.supply)){a.next=3;break}return t.$message.error(t.$t("lang.存款不足")),a.abrupt("return");case 3:if(!t.excuting){a.next=5;break}return a.abrupt("return");case 5:e=t;try{e.excuting=!0,s=t.$util.mathMul(t.amount,t.data.token_price),isNaN(s)&&(s=u()(0)),t.$util.mathMul(s,t.data.factor),i=t.$util.mathMul(t.amount,t.$util.mathPow(10,t.data.decimals)),i=t.$util.mathFixed(i,0),r=new t.$store.state.web3.eth.Contract(window.config.a_token_abi,t.data.atoken_addr),r.methods.redeemUnderlying(i).send({from:t.$store.state.wallet_address},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.取回成功"),window.config.current_delay,!0),e.handleCancel()}))}))}catch(n){e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1}case 7:case"end":return a.stop()}}),a)})))()},onInputConvert:function(){if("supply"==this.transactionType)u()(0).isGreaterThanOrEqualTo(this.amount)?this.supplyBtn=2:u()(this.amount).isGreaterThan(this.balance)?this.supplyBtn=1:this.supplyBtn=0;else if(this.data.collateral){var t=this.$util.mathMul(this.amount,this.data.token_price);isNaN(t)&&(t=u()(0));var a=this.$util.mathMul(t,this.data.factor),e=this.$util.mathMinus(this.total_collateral,a);u()(0).isGreaterThanOrEqualTo(this.amount)?this.withdrawBtn=4:u()(this.amount).isGreaterThan(this.supply)?this.withdrawBtn=1:this.data.collateral&&u()(this.total_borrow).isGreaterThan(0)&&u()(this.total_borrow).isGreaterThan(e)?this.withdrawBtn=2:u()(this.amount).isGreaterThan(this.data.supply_count)?this.withdrawBtn=3:this.withdrawBtn=0}else u()(this.amount).isGreaterThan(this.supply)?this.withdrawBtn=1:u()(this.amount).isGreaterThan(this.data.supply_count)?this.withdrawBtn=3:this.withdrawBtn=0;this.refreshData()},refreshData:function(){var t=this.$util.mathMul(this.amount,this.data.token_price);isNaN(t)&&(t=u()(0));var a=this.$util.mathMul(t,this.data.factor);if(this.data.collateral)if("supply"==this.transactionType){var e=this.$util.mathAdd(this.total_collateral,a);this.borrow.source=this.$util.mathFormatter(this.total_collateral),this.borrow.target=e,this.borrow.useRate=this.$util.mathFixed(this.$util.mathMul(this.$util.mathDiv(this.total_borrow,this.total_collateral),100),2),this.borrow.targetRate=this.$util.mathFixed(this.$util.mathMul(this.$util.mathDiv(this.total_borrow,e),100),2)}else{var s=this.$util.mathMinus(this.total_collateral,a);u()(0).isGreaterThan(s)&&(s=1e-7),this.borrow.source=this.$util.mathFormatter(this.total_collateral),this.borrow.target=s,this.borrow.useRate=this.$util.mathFixed(u()(this.total_borrow).isGreaterThan(0)?this.$util.mathMul(this.$util.mathDiv(this.total_borrow,this.total_collateral),100):0,2),this.borrow.targetRate=this.$util.mathFixed(u()(this.total_borrow).isGreaterThan(0)?this.$util.mathMul(this.$util.mathDiv(this.total_borrow,s),100):0,2)}this.targetMax=u()(this.borrow.targetRate).isGreaterThan(80),this.useMax=u()(this.borrow.useRate).isGreaterThan(80)}}}),f=b,x=Object(d["a"])(f,v,g,!1,null,null,null),$=x.exports,y=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a-modal",{staticClass:"modal_div",attrs:{width:406,centered:"",closable:!1,maskClosable:!1,footer:""},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[s("div",{staticClass:"modal_top"},[s("div",{staticClass:"top_title"},[s("div",{staticClass:"modal-top-left"}),s("span",[t._v(t._s(t.data.symbol+t.$t("lang.借还")))]),s("div",{staticClass:"modal-top-right",on:{click:t.handleCancel}},[s("img",{attrs:{src:e("5dfc"),alt:"sd_icon"}})])]),s("div",{staticClass:"content_top"},[s("a-tooltip",{attrs:{placement:"top",visible:t.showTool}},[s("template",{slot:"title"},[s("span",{staticStyle:{"font-size":"13px"}},[t._v(" "+t._s(t.$t("lang.还有少量利息没有归还"))+" "),s("span",{staticStyle:{color:"rgba(19,192,157,1)"}},[t._v(t._s(t.$t("lang.全部")))]),t._v(" "+t._s(t.$t("lang.进行偿还")))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"borrow"==t.transactionType||"repay"==t.transactionType&&t.isEnable,expression:"transactionType=='borrow'||(transactionType=='repay'&&isEnable)"}],staticClass:"input_hint secondary_bg"},[s("img",{attrs:{src:t.data.icon}}),s("a-input",{staticClass:"input_btn",attrs:{size:"large",placeholder:("borrow"==t.transactionType?t.$t("lang.可借"):t.$t("lang.已借"))+" "+("borrow"==t.transactionType?t.$util.mathFixed(t.canborrow,4):t.$util.mathFixed(t.borrow,4))+" "+t.data.symbol},on:{change:t.onInputConvert},model:{value:t.amount,callback:function(a){t.amount=a},expression:"amount"}},[s("a-button",{staticClass:"link_btn",attrs:{slot:"suffix",type:"link"},on:{click:function(a){return t.max()}},slot:"suffix"},[t._v(t._s("repay"==t.transactionType?t.$t("lang.全部"):"80%"))])],1)],1)],2),s("div",{directives:[{name:"show",rawName:"v-show",value:"repay"==t.transactionType&&!t.isEnable,expression:"transactionType=='repay'&&!isEnable"}],staticClass:"input_hint"},[s("img",{attrs:{src:t.data.icon}}),s("p",{staticClass:"highlight_color"},[t._v(t._s(t.$t("lang.要向复合协议提供或偿还")+" "+t.data.symbol+" "+t.$t("lang.您需要先启用它")))])])],1)]),s("div",{staticClass:"modal_content"},[s("div",{staticClass:"switch_div"},[s("div",{staticClass:"switch_btn",class:"borrow"==t.transactionType&&"switch_active_btn",on:{click:function(a){return t.onSwitch("borrow")}}},[s("p",[t._v(t._s(t.$t("lang.借款")))]),s("div",{staticClass:"switch_line"})]),s("div",{staticClass:"switch_btn",class:"repay"==t.transactionType&&"switch_active_btn",on:{click:function(a){return t.onSwitch("repay")}}},[s("p",[t._v(t._s(t.$t("lang.还款")))]),s("div",{staticClass:"switch_line"})])]),s("div",{staticStyle:{padding:"0px 20px"}},[s("h2",{staticClass:"main_btn_color"},[t._v(t._s(t.$t("lang.借款利率")))]),s("div",{staticClass:"rates_div"},[s("div",{staticClass:"calculation"},[s("div",{staticClass:"box"},[s("img",{attrs:{src:t.data.icon}}),s("div",[s("p",{staticClass:"main_btn_color"},[t._v(t._s(t.$util.mathFixed(t.data.borrowApy,2)+"%"))]),s("span",{staticClass:"linear_btn_text"},[t._v(t._s(t.$t("lang.借款利息")))])])])]),s("div",{staticClass:"rates_line"},[t._v("-")]),s("div",{staticClass:"calculation"},[s("div",{staticClass:"box"},[s("img",{attrs:{src:e("5b1c")}}),s("div",[s("p",{staticClass:"main_btn_color"},[t._v(t._s(t.$util.mathFixed(t.data.mBorrowApy,2)+"%"))]),s("span",{staticClass:"linear_btn_text"},[t._v(t._s(t.$t("lang.挖矿年化")))])])])])]),s("h2",{staticClass:"main_btn_color"},[t._v(t._s(t.$t("lang.借款限额")))]),s("div",{staticClass:"remaining_div"},[s("div",{staticClass:"remaining_top"},[s("div",[s("span",[t._v(t._s(t.$t("lang.借款限额")))])]),s("div",[s("span",[t._v(t._s(t.$t("lang.借款率")))])])]),s("a-progress",{attrs:{percent:parseInt(t.borrows.targetRate>0?t.borrows.targetRate:t.borrows.useRate),strokeWidth:4,strokeColor:t.getStrokeColor(parseInt(t.borrows.targetRate>0?t.borrows.targetRate:t.borrows.useRate)),"show-info":!1}}),s("div",{staticClass:"remaining_bottom"},[s("div",[s("p",[t._v(t._s("$"+t.borrows.source))]),s("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.amount,expression:"amount"}],attrs:{type:"arrow-right"}}),s("p",{directives:[{name:"show",rawName:"v-show",value:t.amount,expression:"amount"}]},[t._v(t._s("$"+t.$util.mathFormatter(t.borrows.target)))])],1),s("div",[s("span",{style:(t.useMax,"color:#83829B")},[t._v(t._s(t.borrows.useRate+"%"))]),s("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.amount,expression:"amount"}],attrs:{type:"arrow-right"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.amount,expression:"amount"}],style:(t.targetMax,"color:#83829B")},[t._v(t._s(t.borrows.targetRate+"%"))])],1)])],1)]),s("div",{staticClass:"content_bottom"},[s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{directives:[{name:"show",rawName:"v-show",value:"repay"==t.transactionType&&!t.isEnable,expression:"transactionType=='repay'&&!isEnable"}],staticClass:"deposit_btn",attrs:{loading:t.excuting,type:"primary",size:"large"},on:{click:t.authorizationOk}},[t._v(t._s(t.$t("lang.授权"))+" ")])],1),s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{directives:[{name:"show",rawName:"v-show",value:"borrow"==t.transactionType,expression:"transactionType=='borrow'"}],staticClass:"deposit_btn",attrs:{loading:t.excuting,disabled:0!=t.borrowBtn||!t.amount,type:"primary",size:"large"},on:{click:t.borrowHandleOk}},[t._v(t._s(t.borrowBtnText[t.borrowBtn])+" ")])],1),s("a-config-provider",{attrs:{"auto-insert-space-in-button":!1}},[s("a-button",{directives:[{name:"show",rawName:"v-show",value:"repay"==t.transactionType&&t.isEnable,expression:"transactionType=='repay'&&isEnable"}],staticClass:"deposit_btn",attrs:{loading:t.excuting,disabled:0!=t.repayBtn||!t.amount,type:"primary",size:"large"},on:{click:t.repayHandleOk}},[t._v(t._s(t.repayBtnText[t.repayBtn])+" ")])],1)],1)])])},k=[],C={name:"borrowRepayModal",props:{totalBorrow:0,totalCollateral:0},data:function(){return{visible:!1,amount:"",data:{},transactionType:"borrow",isEnable:!0,isDisabled:!1,borrowBtn:0,borrowBtnText:[this.$t("lang.借款"),this.$t("lang.超出借款限额"),this.$t("lang.流动性不足")],repayBtn:0,repayBtnText:[this.$t("lang.还款"),this.$t("lang.超出还款额"),this.$t("lang.钱包余额不足")],borrow:0,canborrow:0,balance:0,targetMax:!1,useMax:!1,excuting:!1,total_borrow:0,total_collateral:0,is_min:!1,showTool:!1,borrows:{source:0,target:0,useRate:0,targetRate:0}}},methods:{showModal:function(t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.borrowBtnText=[a.$t("lang.借款"),a.$t("lang.超出借款限额"),a.$t("lang.流动性不足")],a.repayBtnText=[a.$t("lang.还款"),a.$t("lang.超出还款额"),a.$t("lang.钱包余额不足")],a.visible=!0,a.excuting=!1,a.transactionType="borrow",a.data=Object(_["a"])({},t),a.total_borrow=a.totalBorrow,a.total_collateral=a.totalCollateral,a.refresh();case 9:case"end":return e.stop()}}),e)})))()},getStrokeColor:function(t){return t>80&&t<90?"#f8b94b":t>=90?"#DF5F67":"rgba(19,192,157,1)"},refresh:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r,n,o,l,c,h,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.amount="",e=t.$store.state.web3,s=new e.eth.Contract(window.config.a_token_abi,t.data.atoken_addr),a.next=5,s.methods.borrowBalanceStored(t.$store.state.wallet_address).call();case 5:return i=a.sent,a.next=8,s.methods.getCash().call();case 8:if(r=a.sent,n=t.$util.mathDiv(r,t.$util.mathPow(10,t.data.decimals)),t.data.supply_count=n,o=t.$util.mathDiv(i,t.$util.mathPow(10,t.data.decimals)),t.borrow=o,l=0,1!=t.data.isMain){a.next=20;break}return a.next=17,e.eth.getBalance(t.$store.state.wallet_address);case 17:l=a.sent,a.next=24;break;case 20:return c=new e.eth.Contract(window.config.token_abi,t.data.underlying),a.next=23,c.methods.balanceOf(t.$store.state.wallet_address).call();case 23:l=a.sent;case 24:l=t.$util.mathDiv(l,t.$util.mathPow(10,t.data.decimals)),t.balance=l,t.borrowBtn=u()(t.total_collateral).isGreaterThan(t.total_borrow)?0:1,t.repayBtn=o.isGreaterThan(0)?0:1,t.getMintAllowed(),t.refreshData(),h=t.$util.mathMinus(t.total_collateral,t.total_borrow),p=t.$util.mathDiv(t.$util.mathMul(h,1),t.data.token_price),u()(p).isGreaterThan(t.data.supply_count)&&(p=t.data.supply_count),t.canborrow=p;case 34:case"end":return a.stop()}}),a)})))()},handleCancel:function(){this.is_min=!1,this.showTool=!1,this.visible=!1},onSwitch:function(t){this.amount="",this.transactionType=t,this.borrowBtn=u()(this.borrow).isGreaterThan(0)?0:1,this.repayBtn=u()(this.balance).isGreaterThan(0)?0:1,this.is_min&&"repay"==this.transactionType?this.showTool=!0:this.showTool=!1,this.refreshData()},max:function(){if("borrow"==this.transactionType){var t=this.$util.mathMinus(this.total_collateral,this.total_borrow),a=this.$util.mathDiv(this.$util.mathMul(t,.8),this.data.token_price);a.isGreaterThan(0)?this.amount=this.$util.mathFixed(a,4):this.amount=0}else this.amount=this.$util.mathFixed(this.borrow,12);this.onInputConvert()},getMintAllowed:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(1!=t.data.isMain){a.next=4;break}t.isEnable=!0,a.next=17;break;case 4:return e=t.$store.state.web3,s=new e.eth.Contract(window.config.unitroller_abi,window.config.current_config.uni_addr),a.next=8,s.methods.mintAllowed(t.data.atoken_addr,t.$store.state.wallet_address,0).call();case 8:if(i=a.sent,0!=i){a.next=17;break}return t.isDisabled=!0,r=new e.eth.Contract(window.config.token_abi,t.data.underlying),a.next=14,r.methods.allowance(t.$store.state.wallet_address,t.data.atoken_addr).call();case 14:n=a.sent,o=t.$util.mathMul(1e7,t.$util.mathPow(10,t.data.decimals)),u()(n).isGreaterThan(o)?t.isEnable=!0:t.isEnable=!1;case 17:case"end":return a.stop()}}),a)})))()},borrowHandleOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.excuting){a.next=2;break}return a.abrupt("return");case 2:if(e=t,a.prev=3,!u()(t.amount).isEqualTo(0)){a.next=7;break}return t.$message.error(t.$t("lang.请输入数量")),a.abrupt("return");case 7:e.excuting=!0,s=t.$util.mathMul(t.amount,t.data.token_price),isNaN(s)&&(s=u()(0)),i=t.$util.mathMul(t.amount,t.$util.mathPow(10,t.data.decimals)),i=t.$util.mathFixed(i,0),r=new t.$store.state.web3.eth.Contract(window.config.a_token_abi,t.data.atoken_addr),r.methods.borrow(i).send({from:t.$store.state.wallet_address},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.借款成功"),window.config.current_delay,!0),e.handleCancel()}))})),a.next=20;break;case 16:a.prev=16,a.t0=a["catch"](3),e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1;case 20:case"end":return a.stop()}}),a,null,[[3,16]])})))()},authorizationOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.excuting){a.next=2;break}return a.abrupt("return");case 2:e=t;try{e.excuting=!0,s=t.$util.mathMul(1e11,t.$util.mathPow(10,t.data.decimals)),s=t.$util.mathFixed(s,0),i=t.$store.state.web3,r=new i.eth.Contract(window.config.token_abi,t.data.underlying),r.methods.approve(t.data.atoken_addr,s).send({from:t.$store.state.wallet_address},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.授权成功"),3,!1),e.isEnable=!0}))}))}catch(n){e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1}case 4:case"end":return a.stop()}}),a)})))()},checkStatus:function(t,a){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(i=e,e.excuting){s.next=3;break}return s.abrupt("return");case 3:e.checkTimer&&clearInterval(e.checkTimer),e.checkTimer=setInterval(Object(r["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["b"](t);case 2:s=e.sent,s&&s.result&&(r=parseInt(s.result.status),1==r&&(clearInterval(i.checkTimer),i.excuting&&(i.excuting=!1,a())));case 4:case"end":return e.stop()}}),e)}))),2e3);case 5:case"end":return s.stop()}}),s)})))()},repayHandleOk:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r,n,o,l,c,h,p,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!u()(t.amount).isEqualTo(0)){a.next=3;break}return t.$message.error(t.$t("lang.请输入数量")),a.abrupt("return");case 3:if(!u()(t.amount).isGreaterThan(t.balance)){a.next=6;break}return t.$message.error(t.$t("lang.余额不足")),a.abrupt("return");case 6:if(!t.excuting){a.next=8;break}return a.abrupt("return");case 8:if(e=t,a.prev=9,e.excuting=!0,s=t.$util.mathFixed(t.borrow,12),i=t.$util.mathMul(t.amount,t.$util.mathPow(10,t.data.decimals)),i=t.$util.mathFixed(i,0),r=!1,u()(t.amount).isGreaterThanOrEqualTo(s)&&(n=t.$util.mathMul(t.amount,1.2),t.balance.isGreaterThan(n)&&(r=!0)),1!=t.data.isMain){a.next=23;break}r&&(o=t.$util.mathMul(t.amount,1.2),i=t.$util.mathMul(o,t.$util.mathPow(10,t.data.decimals))),i=t.$util.mathFixed(i,0),l=new t.$store.state.web3.eth.Contract(window.config.eth_repay_abi,window.config.current_config.eth_repay),l.methods.repayBehalf(t.$store.state.wallet_address).send({from:t.$store.state.wallet_address,value:String(i)},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.还款成功"),window.config.current_delay,!0),e.handleCancel()}))})),a.next=36;break;case 23:if(!r){a.next=33;break}return c=t.$store.state.web3,a.next=27,c.eth.getGasPrice();case 27:h=a.sent,h=c.utils.toHex(h),p=c.utils.toHex(35e4),window.ethereum.request({method:"eth_sendTransaction",params:[{from:t.$store.state.wallet_address,to:t.data.atoken_addr,value:"0x00",gasPrice:h,gas:p,data:"0x0e752702ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"}]}).then((function(t){e.checkStatus(t,(function(){e.$emit("app-refresh",e.$t("lang.还款成功"),window.config.current_delay,!0),e.handleCancel()}))})).catch((function(t){e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1})),a.next=36;break;case 33:i=t.$util.mathFixed(i,0),d=new t.$store.state.web3.eth.Contract(window.config.a_token_abi,t.data.atoken_addr),d.methods.repayBorrow(i).send({from:t.$store.state.wallet_address},(function(t,a){t?(e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1):e.checkStatus(a,(function(){e.$emit("app-refresh",e.$t("lang.还款成功"),window.config.current_delay,!0),e.handleCancel()}))}));case 36:a.next=43;break;case 38:a.prev=38,a.t0=a["catch"](9),console.log(a.t0),e.$emit("app-refresh",e.$t("lang.操作失败"),3,!1,"error"),e.excuting=!1;case 43:case"end":return a.stop()}}),a,null,[[9,38]])})))()},onInputConvert:function(){var t=this.$util.mathMul(this.amount,this.data.token_price);isNaN(t)&&(t=u()(0));var a=this.$util.mathMinus(this.total_collateral,this.total_borrow);"borrow"==this.transactionType?t.isGreaterThan(a)?this.borrowBtn=1:u()(this.amount).isGreaterThan(this.data.supply_count)?this.borrowBtn=2:this.borrowBtn=0:(isNaN(this.amount)&&(this.amount=0),u()(this.amount).isGreaterThan(0)?u()(this.amount).isGreaterThan(this.borrow)?this.repayBtn=1:u()(this.amount).isGreaterThan(this.balance)?this.repayBtn=2:this.repayBtn=0:this.repayBtn=1),this.refreshData()},refreshData:function(){var t=this.$util.mathMul(this.amount,this.data.token_price);if(isNaN(t)&&(t=u()(0)),"borrow"==this.transactionType){var a=this.$util.mathAdd(this.total_borrow,t);this.borrows.source=this.$util.mathFormatter(this.total_borrow),this.borrows.target=a,this.borrows.useRate=this.$util.mathFixed(this.$util.mathMul(this.$util.mathDiv(this.total_borrow,this.total_collateral),100),2),this.borrows.targetRate=this.$util.mathFixed(this.$util.mathMul(this.$util.mathDiv(a,this.total_collateral),100),2)}else{var e=this.$util.mathMinus(this.total_borrow,t);this.borrows.source=this.$util.mathFormatter(this.total_borrow),this.borrows.target=e,this.borrows.useRate=this.$util.mathFixed(this.$util.mathMul(this.$util.mathDiv(this.total_borrow,this.total_collateral),100),2);var s=this.$util.mathMul(this.$util.mathDiv(e,this.total_collateral),100);s.isGreaterThan(0)||(s=u()(.01)),this.borrows.targetRate=this.$util.mathFixed(s,2)}this.targetMax=u()(this.borrows.targetRate).isGreaterThan(80),this.useMax=u()(this.borrows.useRate).isGreaterThan(80)}}},T=C,A=Object(d["a"])(T,y,k,!1,null,null,null),R=A.exports,M=e("4791"),S={name:"Home",components:{EnableModal:w,SupplyWithdrawModal:$,BorrowRepayModal:R,GetAirdrop:M["a"]},data:function(){return{refreshing:!1,loading:!0,refres_percent:0,prices:null,allMarkets:[],userMarkets:[],allTotal:{loading:!0,supply:0,borrow:0,cap:0,price:0},userTotal:{warming:!1,loading:!0,supply:0,borrow:0,collateral:0,used:0,rate:0,apy:0},adList:window.ads}},computed:{address:function(){return this.$store.state.wallet_address},address1:function(){return this.$store.state.display_wallet_address},price:function(){return this.$store.state.klt_price}},watch:{address:function(){this.address&&this.price&&this.refreshDatas()},price:function(){this.address&&this.price&&this.refreshDatas()}},mounted:function(){this.address&&this.price&&this.refreshDatas()},methods:{refreshDatas:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.refreshing){a.next=2;break}return a.abrupt("return");case 2:return t.refreshing=!0,e=new t.$store.state.web3.eth.Contract(window.config.query_abi,window.config.current_config.query_addr),a.next=6,e.methods.getCTokenUnderlyingPrice().call();case 6:s=a.sent,t.prices=s,t.refreshAllTotal(),t.refreshUserTotal(),t.refreshMarkets();case 11:case"end":return a.stop()}}),a)})))()},tokenUPrice:function(t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,i,r,n,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=a.$util.mathPow(10,18),i=a.prices[0],r=a.prices[2],n=-1,e.t0=regeneratorRuntime.keys(i);case 5:if((e.t1=e.t0()).done){e.next=13;break}if(o=e.t1.value,l=i[o],l!==t){e.next=11;break}return n=o,e.abrupt("break",13);case 11:e.next=5;break;case 13:if(-1==n){e.next=15;break}return e.abrupt("return",a.$util.mathDiv(r[n],s));case 15:return e.abrupt("return",0);case 16:case"end":return e.stop()}}),e)})))()},refreshAllTotal:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.$util.mathPow(10,18),s=new t.$store.state.web3.eth.Contract(window.config.query_abi,window.config.current_config.query_addr),a.next=4,s.methods.marketTotal().call();case 4:i=a.sent,r=t.$util.mathDiv(i[0],e),n=t.$util.mathDiv(i[1],e),t.allTotal.supply=t.$util.mathAdd(r,n),t.allTotal.borrow=n,t.allTotal.price=t.price,t.allTotal.loading=!1,t.marketcap();case 12:case"end":return a.stop()}}),a)})))()},marketcap:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r,n,o,l,c,h,p,d,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.$util.mathPow(10,18),s=new t.$store.state.web3.eth.Contract(window.config.token_abi,window.config.current_config.token_addr),i=u()(1e6),a.next=5,s.methods.balanceOf("0x097eBdDC950BaA01ca442e1e2D52A6B027755B11").call();case 5:return r=a.sent,r=t.$util.mathDiv(r,e),i=t.$util.mathMinus(i,r),a.next=10,s.methods.balanceOf("0x9589c9c9b7A484F57d69aC09c14EcE4b6d785710").call();case 10:return n=a.sent,n=t.$util.mathDiv(n,e),i=t.$util.mathMinus(i,n),a.next=16,s.methods.balanceOf("0x1A1300b34E01724dD168a2eC90767d9528E88454").call();case 16:o=a.sent,o=t.$util.mathDiv(o,e),i=t.$util.mathMinus(i,o);case 19:return a.next=22,s.methods.balanceOf("0x232d8f06c8D470A9a0A23Fe3a2c33b1887B11cda").call();case 22:l=a.sent,l=t.$util.mathDiv(l,e),i=t.$util.mathMinus(i,l);case 25:return a.next=28,s.methods.balanceOf("0x72666B60AFcF53540d302BED78205dFDF7381D6C").call();case 28:c=a.sent,c=t.$util.mathDiv(c,e),i=t.$util.mathMinus(i,c);case 31:return a.next=34,s.methods.balanceOf("0x2404c9F6Ba2d4D5c73d86b3E3b9D7F6c70ba3448").call();case 34:h=a.sent,h=t.$util.mathDiv(h,e),i=t.$util.mathMinus(i,h);case 37:return a.next=40,s.methods.balanceOf("0x5A74de8e3D0c46c106AB769d50bf9CAF8681D30d").call();case 40:p=a.sent,p=t.$util.mathDiv(p,e),i=t.$util.mathMinus(i,p);case 43:return a.next=46,s.methods.balanceOf("0xA64cc94e86503B2FFaeaDBe98C4eb74D2f4c9864").call();case 46:d=a.sent,d=t.$util.mathDiv(d,e),i=t.$util.mathMinus(i,d);case 49:return a.next=52,s.methods.balanceOf("0x96b9d9ed5b0daae7118e7153b10156deb8fadcc9").call();case 52:m=a.sent,m=t.$util.mathDiv(m,e),i=t.$util.mathMinus(i,m);case 55:t.allTotal.cap=t.$util.mathMul(i,t.price);case 56:case"end":return a.stop()}}),a)})))()},refreshUserTotal:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.$util.mathPow(10,18),s=new t.$store.state.web3.eth.Contract(window.config.query_abi,window.config.current_config.query_addr),a.next=4,s.methods.userInfo(t.address).call();case 4:i=a.sent,t.userTotal.supply=t.$util.mathDiv(i[0],e),t.userTotal.borrow=t.$util.mathDiv(i[2],e),t.userTotal.collateral=t.$util.mathDiv(i[1],e),t.userTotal.used=t.$util.mathMul(t.$util.mathDiv(t.userTotal.borrow,t.userTotal.collateral),100),t.userTotal.used.isGreaterThan(80)?t.userTotal.warming=!0:t.userTotal.warming=!1,t.userTotal.loading=!1;case 11:case"end":return a.stop()}}),a)})))()},refreshMarkets:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,s,i,r,n,o,l,c,h,p,d,m,w,v,g,_,b,f,x,$,y,k,C,T,A,R,M,S,D,B,F,N,O,E,G,I,z,j,P,q,U,W,H,K,Q,Y,L,J;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.$util.mathPow(10,18),s=new t.$store.state.web3.eth.Contract(window.config.query_abi,window.config.current_config.query_addr),a.next=4,s.methods.marketsATokenInfo(t.address).call();case 4:i=a.sent,r=[],n=[],o=0,l=0,c=0,a.t0=regeneratorRuntime.keys(i);case 11:if((a.t1=a.t0()).done){a.next=55;break}if(h=a.t1.value,p=i[h],d=p[1],m=t.$util.mathPow(10,d),w=p[0],v=p[3],g=p[4],_="0x0000000000000000000000000000000000000000"==g?1:0,"0x5935D3a820507FFb2d9e47b77915c4AbF31f29Ce"!=v&&"0x82b91B4bd305963e4eF60f146E7baD1909F11Da1"!=v){a.next=22;break}return a.abrupt("continue",11);case 22:return a.next=24,t.tokenUPrice(v);case 24:b=a.sent,f=t.$util.mathDiv(p[8],m),x=t.$util.mathMul(f,b),$=t.$util.mathDiv(p[7],m),y=t.$util.mathMul($,b),k=t.$util.mathAdd(f,$),C=t.$util.mathMul(k,b),T=t.$util.mathDiv(p[2],m),A=t.$util.mathMul(T,b),R=t.$util.mathDiv(p[12],m),R.isGreaterThan(1e-4)||(R=u()(0)),M=t.$util.mathMul(R,b),S=t.$util.mathDiv(p[13],m),D=t.$util.mathMul(S,b),B=p[14],F=t.$util.mathDiv(p[11],e),N=t.$util.mathMul(t.$util.mathDiv(p[5],e),100),O=t.$util.mathMul(t.$util.mathDiv(p[6],e),100),E=t.$util.mathDiv(p[10],e),G=t.$util.mathMul(t.$util.mathDiv(E,C),100),I=t.$util.mathMul(t.$util.mathDiv(E,x),100),z=t.$util.mathMul(t.$util.mathDiv(f,k),100),j=t.$util.mathMul(M,F),P={isMain:_,token_price:b,icon:window.config.current_img+w.toLowerCase()+".svg",decimals:d,symbol:w,atoken_addr:v,underlying:g,totalBorrow:f,totalBorrowU:x,totalCash:$,totalCashU:y,totalSupply:k,totalSupplyU:C,myBalance:T,myBalanceU:A,mySupply:R,mySupplyU:M,myBorrow:S,myBorrowU:D,collateral:B,factor:F,collateral_value:j,supplyApy:N,borrowApy:O,mSuppleyApy:G,mBorrowApy:I,used:z},"okt"!=w.toLowerCase()&&"okb"!=w.toLowerCase()||(P.icon=window.config.current_img+"ok.svg"),u()(R).isGreaterThan(0)&&(q=t.$util.mathDiv(R,k),U=t.$util.mathMul(E,q),W=t.$util.mathMul(M,t.$util.mathDiv(N,100)),H=t.$util.mathAdd(U,W),l=t.$util.mathAdd(l,H),o=t.$util.mathAdd(o,M)),u()(S).isGreaterThan(0)&&(K=t.$util.mathDiv(S,f),Q=t.$util.mathMul(E,K),Y=t.$util.mathMul(D,t.$util.mathDiv(O,100)),c=t.$util.mathAdd(c,Y),l=t.$util.mathAdd(l,Q)),(R.isGreaterThan(1e-4)||S.isGreaterThan(1e-4))&&n.push(P),r.push(P),a.next=11;break;case 55:L=t.$util.mathMinus(l,c),J=t.$util.mathMul(t.$util.mathDiv(L,o),100),t.userTotal.rate=J,t.userTotal.apy=t.$util.mathMul(t.$util.mathDiv(c,t.$util.mathAdd(l,c)),100),t.allMarkets=r,t.userMarkets=n,t.loading=!1;case 62:case"end":return a.stop()}}),a)})))()},getStrokeColor:function(t){return t>80&&t<90?"#f8b94b":t>=90?"#DF5F67":"rgba(19,192,157,1)"},getAirdrop:function(){this.$refs.getAirdropRef.showModal()},doRefresh:function(t,a,e,s){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=i,s||(s="success"),!e){r.next=6;break}i.$notification[s]({duration:a+3,message:t,description:function(t){return t("a-progress",{props:{percent:n.refres_percent,size:"small",showInfo:!1,strokeColor:"#062ef5",strokeWidth:5}})}}),r.next=8;break;case 6:return i.$notification[s]({duration:a+3,message:t}),r.abrupt("return");case 8:i.wait||(i.wait=!0,i.tv_time=setTimeout((function(){clearTimeout(n.tv_time),e&&(n.refreshing=!1,n.refreshDatas()),n.wait=!1}),1e3*a),i.iv_time=setInterval((function(){n.refres_percent=n.refres_percent+1,n.refres_percent>=100&&(clearInterval(n.iv_time),n.refres_percent=0)}),1e3*(a+3)/100));case 9:case"end":return r.stop()}}),r)})))()}}},D=S,B=(e("de16"),Object(d["a"])(D,s,i,!1,null,null,null));a["default"]=B.exports},bdb1:function(t,a,e){t.exports=e.p+"static/img/forward.53035fd6.svg"},de16:function(t,a,e){"use strict";e("8d91")},e0be:function(t,a,e){t.exports=e.p+"static/img/Icon04.6ebbb320.svg"},ff36:function(t,a,e){"use strict";e("a128")}}]);